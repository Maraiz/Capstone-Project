<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FitCall - Profile Settings</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
<style>
    * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
    background: 
        linear-gradient(135deg, rgba(0,0,0,0.7) 0%, rgba(0,0,0,0.4) 50%, rgba(0,0,0,0.7) 100%),
        url('https://images.unsplash.com/photo-1593079831268-3381b0db4a77?q=80&w=2069&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D');
    background-size: cover;
    background-position: center;
    background-attachment: fixed;
    color: #ffffff;
    min-height: 100vh;
    padding: 24px;
    line-height: 1.6;
}

.container {
    max-width: 1000px;
    margin: 0 auto;
    position: relative;
    z-index: 1;
}

/* Header - Same as Homepage */
.header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 32px;
    padding: 0 8px;
}

.profile-section {
    display: flex;
    align-items: center;
    gap: 12px;
}

.profile-avatar {
    width: 48px;
    height: 48px;
    border-radius: 12px;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 20px;
    font-weight: 600;
    color: white;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
    transition: transform 0.2s ease;
}

.profile-avatar:hover {
    transform: scale(1.05);
}

.profile-info {
    display: flex;
    flex-direction: column;
    gap: 2px;
}

.profile-name {
    font-size: 14px;
    font-weight: 500;
    color: #ffffff;
}

.profile-status {
    font-size: 12px;
    color: rgba(255, 255, 255, 0.7);
}

.logo {
    font-size: 28px;
    font-weight: 700;
    background: linear-gradient(135deg, #ff6b6b, #4ecdc4, #45b7d1);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    letter-spacing: -0.5px;
}

.header-actions {
    display: flex;
    align-items: center;
    gap: 12px;
}

.notification-btn {
    width: 40px;
    height: 40px;
    border-radius: 10px;
    background: rgba(255, 255, 255, 0.1);
    backdrop-filter: blur(10px);
    border: 1px solid rgba(255, 255, 255, 0.2);
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    cursor: pointer;
    transition: all 0.2s ease;
}

.notification-btn:hover {
    background: rgba(255, 255, 255, 0.2);
    transform: translateY(-1px);
}

/* Page Header */
.page-header {
    margin-bottom: 32px;
}

.page-title {
    font-size: 48px;
    font-weight: 700;
    margin-bottom: 8px;
    color: #ffffff;
    text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
    letter-spacing: -1px;
}

.page-subtitle {
    font-size: 16px;
    color: rgba(255, 255, 255, 0.8);
    font-weight: 400;
}

/* Profile Card - Glass Morphism Style */
.profile-card {
    background: rgba(255, 255, 255, 0.1);
    backdrop-filter: blur(20px);
    border-radius: 20px;
    border: 1px solid rgba(255, 255, 255, 0.15);
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);
    overflow: hidden;
    transition: all 0.3s ease;
    margin-bottom: 32px;
}

.profile-card:hover {
    transform: translateY(-2px);
    box-shadow: 0 12px 40px rgba(0, 0, 0, 0.3);
}

/* Tab Navigation */
.tab-navigation {
    display: flex;
    background: rgba(255, 255, 255, 0.05);
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

.tab-btn {
    flex: 1;
    padding: 20px;
    background: none;
    border: none;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 10px;
    font-size: 14px;
    font-weight: 600;
    color: rgba(255, 255, 255, 0.7);
    transition: all 0.3s ease;
    border-bottom: 3px solid transparent;
}

.tab-btn:hover {
    background: rgba(255, 255, 255, 0.1);
    color: rgba(255, 255, 255, 0.9);
}

.tab-btn.active {
    background: rgba(255, 255, 255, 0.1);
    color: #ffffff;
    border-bottom-color: #ff6b6b;
}

.tab-btn i {
    font-size: 16px;
}

/* Tab Content */
.tab-content {
    display: none;
    padding: 40px;
}

.tab-content.active {
    display: block;
}

/* Photo Section */
.photo-section {
    text-align: center;
    margin-bottom: 40px;
}

.photo-container {
    position: relative;
    display: inline-block;
    margin-bottom: 15px;
}

.photo-container img {
    width: 120px;
    height: 120px;
    border-radius: 50%;
    object-fit: cover;
    border: 4px solid rgba(255, 255, 255, 0.2);
    transition: all 0.3s ease;
}

.photo-overlay {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(255, 107, 107, 0.8);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    opacity: 0;
    transition: opacity 0.3s ease;
    cursor: pointer;
}

.photo-container:hover .photo-overlay {
    opacity: 1;
}

.photo-overlay i {
    color: white;
    font-size: 24px;
}

.photo-btn {
    background: linear-gradient(135deg, #ff6b6b, #4ecdc4);
    color: white;
    border: none;
    padding: 12px 24px;
    border-radius: 25px;
    cursor: pointer;
    font-size: 14px;
    font-weight: 600;
    transition: all 0.3s ease;
    border: 1px solid rgba(255, 255, 255, 0.2);
}

.photo-btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 5px 15px rgba(255, 107, 107, 0.3);
}

/* Sections */
.section {
    margin-bottom: 35px;
    padding: 25px;
    background: rgba(255, 255, 255, 0.05);
    backdrop-filter: blur(10px);
    border-radius: 15px;
    border: 1px solid rgba(255, 255, 255, 0.1);
    transition: all 0.3s ease;
}

.section:hover {
    background: rgba(255, 255, 255, 0.08);
    transform: translateY(-2px);
}

.section-header {
    display: flex;
    align-items: center;
    margin-bottom: 20px;
    gap: 12px;
}

.section-icon {
    width: 32px;
    height: 32px;
    border-radius: 8px;
    background: linear-gradient(135deg, #ff6b6b, #4ecdc4);
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    font-size: 14px;
}

.section-header h3 {
    font-size: 18px;
    font-weight: 600;
    color: #ffffff;
}

/* Form Elements */
.form-row {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 20px;
    margin-bottom: 20px;
}

.form-group {
    margin-bottom: 20px;
}

.form-group label {
    display: block;
    margin-bottom: 8px;
    font-weight: 600;
    color: rgba(255, 255, 255, 0.9);
    font-size: 14px;
}

.form-group label i {
    margin-right: 8px;
    color: #ff6b6b;
    width: 16px;
}

.form-group input,
.form-group select,
.form-group textarea {
    width: 100%;
    padding: 12px 16px;
    border: 1px solid rgba(255, 255, 255, 0.2);
    border-radius: 10px;
    font-size: 14px;
    transition: all 0.3s ease;
    background: rgba(255, 255, 255, 0.1);
    backdrop-filter: blur(10px);
    color: #ffffff;
    font-family: 'Inter', sans-serif;
}

.form-group input::placeholder,
.form-group select::placeholder,
.form-group textarea::placeholder {
    color: rgba(255, 255, 255, 0.5);
}

.form-group input:focus,
.form-group select:focus,
.form-group textarea:focus {
    outline: none;
    border-color: #ff6b6b;
    background: rgba(255, 255, 255, 0.15);
    box-shadow: 0 0 0 3px rgba(255, 107, 107, 0.2);
}

.help-text {
    color: rgba(255, 255, 255, 0.6);
    font-size: 12px;
    margin-top: 5px;
    font-style: italic;
}

/* BMI & Calories Display */
.bmi-display,
.calories-display {
    margin-top: 15px;
}

.bmi-card,
.calories-card {
    background: rgba(255, 255, 255, 0.1);
    backdrop-filter: blur(10px);
    border: 1px solid rgba(255, 255, 255, 0.2);
    padding: 20px;
    border-radius: 12px;
    display: flex;
    align-items: center;
    gap: 15px;
}

.bmi-icon,
.calories-icon {
    width: 48px;
    height: 48px;
    border-radius: 12px;
    background: linear-gradient(135deg, #4ecdc4, #45b7d1);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 20px;
    color: white;
}

.bmi-info,
.calories-info {
    flex: 1;
}

.bmi-label,
.calories-label {
    display: block;
    font-size: 12px;
    color: rgba(255, 255, 255, 0.7);
    margin-bottom: 4px;
}

.bmi-value,
.calories-value {
    display: block;
    font-size: 24px;
    font-weight: 700;
    margin-bottom: 4px;
    color: #ffffff;
}

.bmi-category {
    font-size: 14px;
    color: rgba(255, 255, 255, 0.8);
}

/* Activity Level Cards */
.activity-options {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
    gap: 15px;
    margin-top: 10px;
}

.activity-card {
    position: relative;
}

.activity-card input[type="radio"] {
    position: absolute;
    opacity: 0;
    width: 0;
    height: 0;
}

.activity-label {
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 20px 15px;
    background: rgba(255, 255, 255, 0.05);
    backdrop-filter: blur(10px);
    border: 1px solid rgba(255, 255, 255, 0.2);
    border-radius: 12px;
    cursor: pointer;
    transition: all 0.3s ease;
    text-align: center;
}

.activity-label i {
    font-size: 24px;
    color: #ff6b6b;
    margin-bottom: 8px;
}

.activity-label span {
    font-weight: 600;
    color: #ffffff;
    margin-bottom: 4px;
}

.activity-label small {
    color: rgba(255, 255, 255, 0.6);
    font-size: 11px;
    line-height: 1.3;
}

.activity-card input[type="radio"]:checked + .activity-label {
    border-color: #ff6b6b;
    background: linear-gradient(135deg, rgba(255, 107, 107, 0.3), rgba(78, 205, 196, 0.2));
    transform: translateY(-2px);
    box-shadow: 0 5px 15px rgba(255, 107, 107, 0.3);
}

.activity-label:hover {
    border-color: #ff6b6b;
    transform: translateY(-2px);
    background: rgba(255, 255, 255, 0.08);
}

/* Password Strength */
.password-strength {
    margin-top: 8px;
}

.strength-bar {
    width: 100%;
    height: 4px;
    background: rgba(255, 255, 255, 0.2);
    border-radius: 2px;
    overflow: hidden;
    margin-bottom: 4px;
}

.strength-fill {
    height: 100%;
    width: 0%;
    transition: all 0.3s ease;
    border-radius: 2px;
}

.strength-text {
    font-size: 12px;
    color: rgba(255, 255, 255, 0.7);
}

.password-match {
    margin-top: 8px;
    font-size: 12px;
    padding: 4px 0;
}

.password-match.match {
    color: #4caf50;
}

.password-match.no-match {
    color: #f44336;
}

/* Toggle Switch for 2FA */
.two-factor-option {
    display: flex;
    align-items: center;
    gap: 15px;
    padding: 20px;
    background: rgba(255, 255, 255, 0.05);
    backdrop-filter: blur(10px);
    border-radius: 12px;
    border: 1px solid rgba(255, 255, 255, 0.1);
}

.toggle-container {
    position: relative;
}

.toggle-container input[type="checkbox"] {
    opacity: 0;
    width: 0;
    height: 0;
}

.toggle-label {
    display: block;
    width: 50px;
    height: 24px;
    background: rgba(255, 255, 255, 0.2);
    border-radius: 12px;
    position: relative;
    cursor: pointer;
    transition: background 0.3s ease;
}

.toggle-switch {
    position: absolute;
    top: 2px;
    left: 2px;
    width: 20px;
    height: 20px;
    background: white;
    border-radius: 50%;
    transition: transform 0.3s ease;
}

.toggle-container input[type="checkbox"]:checked + .toggle-label {
    background: #ff6b6b;
}

.toggle-container input[type="checkbox"]:checked + .toggle-label .toggle-switch {
    transform: translateX(26px);
}

.toggle-info h4 {
    margin-bottom: 4px;
    color: #ffffff;
}

.toggle-info p {
    color: rgba(255, 255, 255, 0.7);
    font-size: 14px;
}

/* Login Activity */
.login-activity {
    background: rgba(255, 255, 255, 0.05);
    backdrop-filter: blur(10px);
    border-radius: 12px;
    overflow: hidden;
    border: 1px solid rgba(255, 255, 255, 0.1);
}

.activity-item {
    display: flex;
    align-items: center;
    padding: 20px;
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    gap: 15px;
}

.activity-item:last-child {
    border-bottom: none;
}

.activity-icon {
    width: 40px;
    height: 40px;
    background: rgba(255, 255, 255, 0.1);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    color: rgba(255, 255, 255, 0.7);
}

.activity-info {
    flex: 1;
}

.activity-info h4 {
    margin-bottom: 4px;
    color: #ffffff;
    font-size: 14px;
}

.activity-info p {
    color: rgba(255, 255, 255, 0.6);
    font-size: 12px;
    margin-bottom: 6px;
}

.activity-status {
    font-size: 10px;
    padding: 4px 8px;
    border-radius: 12px;
    background: rgba(255, 255, 255, 0.1);
    color: rgba(255, 255, 255, 0.7);
}

.activity-status.current {
    background: rgba(76, 175, 80, 0.2);
    color: #4caf50;
}

.btn-logout-all {
    margin-top: 15px;
    background: rgba(255, 255, 255, 0.1);
    color: rgba(255, 255, 255, 0.8);
    border: 1px solid rgba(255, 255, 255, 0.2);
    padding: 10px 20px;
    border-radius: 8px;
    cursor: pointer;
    font-size: 12px;
    transition: all 0.3s ease;
}

.btn-logout-all:hover {
    background: rgba(255, 255, 255, 0.2);
}

/* Danger Section */
.danger-section {
    border: 1px solid rgba(244, 67, 54, 0.3);
    background: rgba(244, 67, 54, 0.05);
}

.danger-section .section-icon {
    background: linear-gradient(135deg, #f44336, #d32f2f);
}

.danger-content {
    background: rgba(244, 67, 54, 0.1);
    padding: 20px;
    border-radius: 12px;
    border: 1px solid rgba(244, 67, 54, 0.2);
}

.danger-content h4 {
    color: #f44336;
    margin-bottom: 8px;
}

.danger-content p {
    color: rgba(255, 255, 255, 0.8);
    margin-bottom: 15px;
    font-size: 14px;
}

.btn-danger {
    background: #f44336;
    color: white;
    border: none;
    padding: 10px 20px;
    border-radius: 8px;
    cursor: pointer;
    font-size: 12px;
    display: flex;
    align-items: center;
    gap: 8px;
    transition: all 0.3s ease;
}

.btn-danger:hover {
    background: #d32f2f;
}

/* Form Actions */
.form-actions {
    display: flex;
    gap: 15px;
    justify-content: flex-end;
    margin-top: 40px;
    padding-top: 25px;
    border-top: 1px solid rgba(255, 255, 255, 0.1);
}

.btn-cancel,
.btn-save {
    padding: 14px 28px;
    border: none;
    border-radius: 12px;
    cursor: pointer;
    font-size: 14px;
    font-weight: 600;
    transition: all 0.3s ease;
    display: flex;
    align-items: center;
    gap: 8px;
}

.btn-cancel {
    background: rgba(255, 255, 255, 0.1);
    color: rgba(255, 255, 255, 0.8);
    border: 1px solid rgba(255, 255, 255, 0.2);
}

.btn-cancel:hover {
    background: rgba(255, 255, 255, 0.2);
    transform: translateY(-2px);
}

.btn-save {
    background: linear-gradient(135deg, #4ecdc4, #45b7d1);
    color: white;
    border: 1px solid rgba(255, 255, 255, 0.2);
}

.btn-save:hover {
    background: linear-gradient(135deg, #44a08d, #3a7bd5);
    transform: translateY(-2px);
    box-shadow: 0 5px 15px rgba(78, 205, 196, 0.3);
}

/* Loading State */
.btn-save.loading {
    background: rgba(255, 255, 255, 0.2);
    cursor: not-allowed;
}

.btn-save.loading:hover {
    transform: none;
    box-shadow: none;
}

/* Footer */
.footer {
    text-align: center;
    margin-top: 48px;
    padding: 24px 0;
    border-top: 1px solid rgba(255, 255, 255, 0.1);
}

.footer-text {
    font-size: 14px;
    color: rgba(255, 255, 255, 0.6);
    font-weight: 400;
}

/* Success Notification */
.success-notification {
    position: fixed;
    top: 20px;
    right: 20px;
    background: rgba(76, 175, 80, 0.9);
    backdrop-filter: blur(10px);
    color: white;
    padding: 15px 20px;
    border-radius: 10px;
    border: 1px solid rgba(255, 255, 255, 0.2);
    box-shadow: 0 5px 15px rgba(76, 175, 80, 0.3);
    display: flex;
    align-items: center;
    gap: 10px;
    transform: translateX(400px);
    transition: all 0.3s ease;
    z-index: 1000;
    font-weight: 600;
}

.success-notification.show {
    transform: translateX(0);
}

.success-notification i {
    font-size: 18px;
}

/* Responsive Design */
@media (max-width: 768px) {
    body {
        padding: 16px;
    }
    
    .tab-content {
        padding: 20px;
    }
    
    .section {
        padding: 20px 15px;
    }
    
    .form-row {
        grid-template-columns: 1fr;
        gap: 0;
    }
    
    .activity-options {
        grid-template-columns: 1fr;
    }
    
    .form-actions {
        flex-direction: column-reverse;
    }
    
    .btn-cancel,
    .btn-save {
        width: 100%;
        justify-content: center;
    }
    
    .page-title {
        font-size: 36px;
    }
    
    .tab-btn {
        padding: 15px 10px;
        font-size: 12px;
    }
    
    .tab-btn span {
        display: none;
    }
    
    .two-factor-option {
        flex-direction: column;
        text-align: center;
    }
    
    .activity-item {
        padding: 15px;
    }

    .header {
        flex-wrap: wrap;
        gap: 16px;
    }

    .profile-section {
        order: 1;
    }

    .logo {
        order: 2;
        font-size: 24px;
    }

    .header-actions {
        order: 3;
    }
}

@media (max-width: 480px) {
    .photo-container img {
        width: 100px;
        height: 100px;
    }
    
    .section-header h3 {
        font-size: 16px;
    }
    
    .activity-label {
        padding: 15px 10px;
    }
    
    .activity-label i {
        font-size: 20px;
    }
    
    .bmi-card,
    .calories-card {
        flex-direction: column;
        text-align: center;
    }

    .page-title {
        font-size: 28px;
    }
}
</style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header class="header">
            <div class="profile-section">
                <div class="profile-avatar">JD</div>
                <div class="profile-info">
                    <div class="profile-name">John Doe</div>
                    <div class="profile-status">Editing Profile</div>
                </div>
            </div>
            
            <div class="logo">FitCall</div>
            
            <div class="header-actions">
                <button class="notification-btn" onclick="window.history.back()">
                    <i class="fas fa-arrow-left"></i>
                </button>
            </div>
        </header>

        <!-- Page Title -->
        <div class="page-header">
            <h1 class="page-title">Profile Settings</h1>
            <p class="page-subtitle">Kelola profil fitness dan pengaturan akun Anda</p>
        </div>

        <!-- Profile Card -->
        <div class="profile-card">
            <!-- Tab Navigation -->
            <div class="tab-navigation">
                <button class="tab-btn active" data-tab="fitness">
                    <i class="fas fa-heartbeat"></i>
                    <span>Fitness Profile</span>
                </button>
                <button class="tab-btn" data-tab="account">
                    <i class="fas fa-shield-alt"></i>
                    <span>Account & Security</span>
                </button>
            </div>

            <!-- Fitness Profile Tab -->
            <div id="fitness-tab" class="tab-content active">
                <form class="fitness-form" id="fitnessForm">
                    <!-- Photo Section -->
                    <div class="photo-section">
                        <div class="photo-container">
                            <img src="https://via.placeholder.com/120" alt="Profile Photo" id="profilePhoto">
                            <div class="photo-overlay">
                                <i class="fas fa-camera"></i>
                            </div>
                        </div>
                        <input type="file" id="photoInput" accept="image/*" style="display: none;">
                        <button type="button" class="photo-btn" onclick="document.getElementById('photoInput').click()">
                            <i class="fas fa-upload"></i> Ubah Foto
                        </button>
                    </div>

                    <!-- Basic Info Section -->
                    <div class="section">
                        <div class="section-header">
                            <div class="section-icon">
                                <i class="fas fa-user"></i>
                            </div>
                            <h3>Informasi Dasar</h3>
                        </div>
                        
                        <div class="form-group">
                            <label for="name">
                                <i class="fas fa-id-badge"></i> Nama Lengkap
                            </label>
                            <input type="text" id="name" name="name" placeholder="Masukkan nama lengkap" required>
                        </div>
                    </div>

                    <!-- Personal Info Section -->
                    <div class="section">
                        <div class="section-header">
                            <div class="section-icon">
                                <i class="fas fa-address-card"></i>
                            </div>
                            <h3>Informasi Personal</h3>
                        </div>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label for="country">
                                    <i class="fas fa-globe"></i> Negara
                                </label>
                                <select id="country" name="country" required>
                                    <option value="">Pilih Negara</option>
                                    <option value="indonesia">Indonesia</option>
                                    <option value="malaysia">Malaysia</option>
                                    <option value="singapore">Singapore</option>
                                    <option value="thailand">Thailand</option>
                                    <option value="philippines">Philippines</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="gender">
                                    <i class="fas fa-venus-mars"></i> Jenis Kelamin
                                </label>
                                <select id="gender" name="gender" required>
                                    <option value="">Pilih Jenis Kelamin</option>
                                    <option value="male">Laki-laki</option>
                                    <option value="female">Perempuan</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="age">
                                    <i class="fas fa-birthday-cake"></i> Umur
                                </label>
                                <input type="number" id="age" name="age" placeholder="25" min="13" max="100" required>
                            </div>
                        </div>
                    </div>

                    <!-- Physical Info Section -->
                    <div class="section">
                        <div class="section-header">
                            <div class="section-icon">
                                <i class="fas fa-ruler-vertical"></i>
                            </div>
                            <h3>Informasi Fisik</h3>
                        </div>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label for="height">
                                    <i class="fas fa-arrows-alt-v"></i> Tinggi Badan (cm)
                                </label>
                                <input type="number" id="height" name="height" placeholder="170" min="100" max="250" required>
                            </div>
                            <div class="form-group">
                                <label for="currentWeight">
                                    <i class="fas fa-weight"></i> Berat Badan Saat Ini (kg)
                                </label>
                                <input type="number" id="currentWeight" name="currentWeight" placeholder="75.5" step="0.1" min="30" max="300" required>
                            </div>
                            <div class="form-group">
                                <label for="targetWeight">
                                    <i class="fas fa-bullseye"></i> Target Berat Badan (kg)
                                </label>
                                <input type="number" id="targetWeight" name="targetWeight" placeholder="70" step="0.1" min="30" max="300" required>
                            </div>
                        </div>
                        
                        <!-- BMI Display -->
                        <div class="bmi-display" id="bmiDisplay" style="display: none;">
                            <div class="bmi-card">
                                <div class="bmi-icon">
                                    <i class="fas fa-chart-pie"></i>
                                </div>
                                <div class="bmi-info">
                                    <span class="bmi-label">BMI Saat Ini</span>
                                    <span class="bmi-value" id="bmiValue">-</span>
                                    <span class="bmi-category" id="bmiCategory">-</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Goals Section -->
                    <div class="section">
                        <div class="section-header">
                            <div class="section-icon">
                                <i class="fas fa-trophy"></i>
                            </div>
                            <h3>Target & Tujuan</h3>
                        </div>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label for="weeklyTarget">
                                    <i class="fas fa-chart-line"></i> Target Mingguan (kg/minggu)
                                </label>
                                <select id="weeklyTarget" name="weeklyTarget" required>
                                    <option value="">Pilih Target</option>
                                    <option value="0.25">0.25 kg/minggu (Lambat)</option>
                                    <option value="0.5">0.5 kg/minggu (Sedang)</option>
                                    <option value="0.75">0.75 kg/minggu (Cepat)</option>
                                    <option value="1">1 kg/minggu (Sangat Cepat)</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="targetDeadline">
                                    <i class="fas fa-calendar-check"></i> Target Deadline
                                </label>
                                <input type="date" id="targetDeadline" name="targetDeadline" required>
                            </div>
                        </div>
                    </div>

                    <!-- Activity Level Section -->
                    <div class="section">
                        <div class="section-header">
                            <div class="section-icon">
                                <i class="fas fa-running"></i>
                            </div>
                            <h3>Level Aktivitas</h3>
                        </div>
                        
                        <div class="form-group">
                            <label for="activityLevel">
                                <i class="fas fa-heartbeat"></i> Tingkat Aktivitas Harian
                            </label>
                            <div class="activity-options">
                                <div class="activity-card">
                                    <input type="radio" id="sedentary" name="activityLevel" value="1.2">
                                    <label for="sedentary" class="activity-label">
                                        <i class="fas fa-couch"></i>
                                        <span>Sedentary</span>
                                        <small>Tidak ada olahraga</small>
                                    </label>
                                </div>
                                <div class="activity-card">
                                    <input type="radio" id="light" name="activityLevel" value="1.375">
                                    <label for="light" class="activity-label">
                                        <i class="fas fa-walking"></i>
                                        <span>Light</span>
                                        <small>Olahraga ringan 1-3x/minggu</small>
                                    </label>
                                </div>
                                <div class="activity-card">
                                    <input type="radio" id="moderate" name="activityLevel" value="1.55">
                                    <label for="moderate" class="activity-label">
                                        <i class="fas fa-bicycle"></i>
                                        <span>Moderate</span>
                                        <small>Olahraga sedang 3-5x/minggu</small>
                                    </label>
                                </div>
                                <div class="activity-card">
                                    <input type="radio" id="active" name="activityLevel" value="1.725">
                                    <label for="active" class="activity-label">
                                        <i class="fas fa-dumbbell"></i>
                                        <span>Active</span>
                                        <small>Olahraga berat 6-7x/minggu</small>
                                    </label>
                                </div>
                                <div class="activity-card">
                                    <input type="radio" id="veryActive" name="activityLevel" value="1.9">
                                    <label for="veryActive" class="activity-label">
                                        <i class="fas fa-fire-alt"></i>
                                        <span>Very Active</span>
                                        <small>Olahraga sangat berat/2x sehari</small>
                                    </label>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Calories Section -->
                    <div class="section">
                        <div class="section-header">
                            <div class="section-icon">
                                <i class="fas fa-fire"></i>
                            </div>
                            <h3>Target Kalori</h3>
                        </div>
                        
                        <div class="form-group">
                            <label for="targetCalories">
                                <i class="fas fa-calculator"></i> Target Kalori Harian
                            </label>
                            <input type="number" id="targetCalories" name="targetCalories" placeholder="2000" min="1000" max="5000">
                            <small class="help-text">*Kosongkan untuk perhitungan otomatis berdasarkan data fisik</small>
                        </div>
                        
                        <!-- Estimated Calories Display -->
                        <div class="calories-display" id="caloriesDisplay" style="display: none;">
                            <div class="calories-card">
                                <div class="calories-icon">
                                    <i class="fas fa-fire"></i>
                                </div>
                                <div class="calories-info">
                                    <span class="calories-label">Estimasi Kalori Harian</span>
                                    <span class="calories-value" id="estimatedCalories">-</span>
                                    <small>Berdasarkan data fisik dan aktivitas</small>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Form Actions -->
                    <div class="form-actions">
                        <button type="button" class="btn-cancel">
                            <i class="fas fa-times"></i> Batal
                        </button>
                        <button type="submit" class="btn-save">
                            <i class="fas fa-save"></i> Simpan Perubahan
                        </button>
                    </div>
                </form>
            </div>

            <!-- Account & Security Tab -->
            <div id="account-tab" class="tab-content">
                <form class="account-form" id="accountForm">
                    <!-- Account Info Section -->
                    <div class="section">
                        <div class="section-header">
                            <div class="section-icon">
                                <i class="fas fa-user-circle"></i>
                            </div>
                            <h3>Informasi Akun</h3>
                        </div>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label for="username">
                                    <i class="fas fa-at"></i> Username
                                </label>
                                <input type="text" id="username" name="username" placeholder="username123" required>
                                <small class="help-text">Username harus unik dan minimal 3 karakter</small>
                            </div>
                            <div class="form-group">
                                <label for="email">
                                    <i class="fas fa-envelope"></i> Email
                                </label>
                                <input type="email" id="email" name="email" placeholder="email@example.com" required>
                                <small class="help-text">Email akan digunakan untuk notifikasi dan pemulihan akun</small>
                            </div>
                        </div>
                    </div>

                    <!-- Security Section -->
                    <div class="section">
                        <div class="section-header">
                            <div class="section-icon">
                                <i class="fas fa-lock"></i>
                            </div>
                            <h3>Keamanan</h3>
                        </div>
                        
                        <div class="form-group">
                            <label for="currentPassword">
                                <i class="fas fa-key"></i> Password Saat Ini
                            </label>
                            <input type="password" id="currentPassword" name="currentPassword" placeholder="Masukkan password saat ini">
                            <small class="help-text">Diperlukan untuk mengubah password</small>
                        </div>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label for="newPassword">
                                    <i class="fas fa-key"></i> Password Baru
                                </label>
                                <input type="password" id="newPassword" name="newPassword" placeholder="Minimal 8 karakter">
                                <div class="password-strength" id="passwordStrength">
                                    <div class="strength-bar">
                                        <div class="strength-fill"></div>
                                    </div>
                                    <span class="strength-text">Kekuatan Password</span>
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="confirmNewPassword">
                                    <i class="fas fa-check-circle"></i> Konfirmasi Password Baru
                                </label>
                                <input type="password" id="confirmNewPassword" name="confirmNewPassword" placeholder="Ulangi password baru">
                                <div class="password-match" id="passwordMatch"></div>
                            </div>
                        </div>
                    </div>

                    <!-- Two Factor Authentication -->
                    <div class="section">
                        <div class="section-header">
                            <div class="section-icon">
                                <i class="fas fa-mobile-alt"></i>
                            </div>
                            <h3>Autentikasi Dua Faktor (2FA)</h3>
                        </div>
                        
                        <div class="two-factor-option">
                            <div class="toggle-container">
                                <input type="checkbox" id="enable2FA" name="enable2FA">
                                <label for="enable2FA" class="toggle-label">
                                    <span class="toggle-inner"></span>
                                    <span class="toggle-switch"></span>
                                </label>
                            </div>
                            <div class="toggle-info">
                                <h4>Aktifkan 2FA</h4>
                                <p>Tambahkan lapisan keamanan ekstra ke akun Anda dengan autentikasi dua faktor</p>
                            </div>
                        </div>
                    </div>

                    <!-- Login Activity -->
                    <div class="section">
                        <div class="section-header">
                            <div class="section-icon">
                                <i class="fas fa-history"></i>
                            </div>
                            <h3>Aktivitas Login</h3>
                        </div>
                        
                        <div class="login-activity">
                            <div class="activity-item">
                                <div class="activity-icon">
                                    <i class="fas fa-mobile-alt"></i>
                                </div>
                                <div class="activity-info">
                                    <h4>Android App - Samsung Galaxy</h4>
                                    <p>Jakarta, Indonesia • 2 jam yang lalu</p>
                                    <span class="activity-status current">Sesi Saat Ini</span>
                                </div>
                            </div>
                            <div class="activity-item">
                                <div class="activity-icon">
                                    <i class="fas fa-desktop"></i>
                                </div>
                                <div class="activity-info">
                                    <h4>Chrome Browser - Windows</h4>
                                    <p>Jakarta, Indonesia • Kemarin, 14:30</p>
                                    <span class="activity-status">Logout</span>
                                </div>
                            </div>
                            <div class="activity-item">
                                <div class="activity-icon">
                                    <i class="fas fa-tablet-alt"></i>
                                </div>
                                <div class="activity-info">
                                    <h4>iPad - Safari</h4>
                                    <p>Bandung, Indonesia • 3 hari yang lalu</p>
                                    <span class="activity-status">Logout</span>
                                </div>
                            </div>
                        </div>
                        
                        <button type="button" class="btn-logout-all">
                            <i class="fas fa-sign-out-alt"></i>
                            Logout dari Semua Perangkat
                        </button>
                    </div>

                    <!-- Account Deletion -->
                    <div class="section danger-section">
                        <div class="section-header">
                            <div class="section-icon">
                                <i class="fas fa-exclamation-triangle"></i>
                            </div>
                            <h3>Zona Bahaya</h3>
                        </div>
                        
                        <div class="danger-content">
                            <h4>Hapus Akun</h4>
                            <p>Menghapus akun akan menghilangkan semua data Anda secara permanen. Tindakan ini tidak dapat dibatalkan.</p>
                            <button type="button" class="btn-danger" onclick="confirmAccountDeletion()">
                                <i class="fas fa-trash"></i>
                                Hapus Akun
                            </button>
                        </div>
                    </div>

                    <!-- Form Actions -->
                    <div class="form-actions">
                        <button type="button" class="btn-cancel">
                            <i class="fas fa-times"></i> Batal
                        </button>
                        <button type="submit" class="btn-save">
                            <i class="fas fa-save"></i> Simpan Perubahan
                        </button>
                    </div>
                </form>
            </div>
        </div>

        <!-- Footer -->
        <footer class="footer">
            <p class="footer-text">© 2025 FitCall Gym. All rights reserved.</p>
        </footer>
    </div>

    <script>
        // Tab Navigation
document.addEventListener('DOMContentLoaded', function() {
    const tabBtns = document.querySelectorAll('.tab-btn');
    const tabContents = document.querySelectorAll('.tab-content');

    tabBtns.forEach(btn => {
        btn.addEventListener('click', () => {
            const tabName = btn.getAttribute('data-tab');
            
            // Remove active class from all tabs and contents
            tabBtns.forEach(b => b.classList.remove('active'));
            tabContents.forEach(c => c.classList.remove('active'));
            
            // Add active class to clicked tab and corresponding content
            btn.classList.add('active');
            document.getElementById(`${tabName}-tab`).classList.add('active');
        });
    });

    // Initialize
    initializeFitnessTab();
    initializeAccountTab();
});

// Fitness Tab Functions
function initializeFitnessTab() {
    // Photo preview
    document.getElementById('photoInput').addEventListener('change', function(e) {
        const file = e.target.files[0];
        if (file) {
            const reader = new FileReader();
            reader.onload = function(e) {
                document.getElementById('profilePhoto').src = e.target.result;
            };
            reader.readAsDataURL(file);
        }
    });

    // BMI Calculator
    function calculateBMI() {
        const height = parseFloat(document.getElementById('height').value);
        const weight = parseFloat(document.getElementById('currentWeight').value);
        
        if (height && weight) {
            const heightInM = height / 100;
            const bmi = weight / (heightInM * heightInM);
            
            document.getElementById('bmiValue').textContent = bmi.toFixed(1);
            document.getElementById('bmiCategory').textContent = getBMICategory(bmi);
            document.getElementById('bmiDisplay').style.display = 'block';
            
            // Also calculate estimated calories
            calculateEstimatedCalories();
        } else {
            document.getElementById('bmiDisplay').style.display = 'none';
        }
    }

    function getBMICategory(bmi) {
        if (bmi < 18.5) return 'Underweight';
        if (bmi < 25) return 'Normal';
        if (bmi < 30) return 'Overweight';
        return 'Obese';
    }

    function calculateEstimatedCalories() {
        const height = parseFloat(document.getElementById('height').value);
        const weight = parseFloat(document.getElementById('currentWeight').value);
        const age = parseInt(document.getElementById('age').value);
        const gender = document.getElementById('gender').value;
        const activityLevel = parseFloat(document.querySelector('input[name="activityLevel"]:checked')?.value || 1.2);

        if (height && weight && age && gender) {
            let bmr;
            
            // Mifflin-St Jeor Equation
            if (gender === 'male') {
                bmr = (10 * weight) + (6.25 * height) - (5 * age) + 5;
            } else {
                bmr = (10 * weight) + (6.25 * height) - (5 * age) - 161;
            }
            
            const tdee = Math.round(bmr * activityLevel);
            
            document.getElementById('estimatedCalories').textContent = `${tdee} kcal`;
            document.getElementById('caloriesDisplay').style.display = 'block';
            
            // Auto-fill target calories if empty
            if (!document.getElementById('targetCalories').value) {
                document.getElementById('targetCalories').value = tdee;
            }
        }
    }

    // Event listeners for calculations
    document.getElementById('height').addEventListener('input', calculateBMI);
    document.getElementById('currentWeight').addEventListener('input', calculateBMI);
    document.getElementById('age').addEventListener('input', calculateBMI);
    document.getElementById('gender').addEventListener('change', calculateBMI);
    
    // Activity level change
    document.querySelectorAll('input[name="activityLevel"]').forEach(radio => {
        radio.addEventListener('change', calculateEstimatedCalories);
    });

    // Fitness form submission
    document.getElementById('fitnessForm').addEventListener('submit', async function(e) {
        e.preventDefault();
        
        const activityLevel = document.querySelector('input[name="activityLevel"]:checked');
        if (!activityLevel) {
            showNotification('Silakan pilih tingkat aktivitas Anda!', 'error');
            return;
        }

        const formData = {
            name: document.getElementById('name').value,
            country: document.getElementById('country').value,
            gender: document.getElementById('gender').value,
            age: parseInt(document.getElementById('age').value),
            height: parseInt(document.getElementById('height').value),
            currentWeight: parseFloat(document.getElementById('currentWeight').value),
            targetWeight: parseFloat(document.getElementById('targetWeight').value),
            weeklyTarget: parseFloat(document.getElementById('weeklyTarget').value),
            targetDeadline: document.getElementById('targetDeadline').value,
            activityLevel: parseFloat(activityLevel.value),
            targetCalories: document.getElementById('targetCalories').value ? 
                parseInt(document.getElementById('targetCalories').value) : null
        };

        await submitFitnessData(formData);
    });
}

// Account Tab Functions
function initializeAccountTab() {
    // Password strength checker
    const newPasswordInput = document.getElementById('newPassword');
    const confirmPasswordInput = document.getElementById('confirmNewPassword');
    
    if (newPasswordInput) {
        newPasswordInput.addEventListener('input', checkPasswordStrength);
    }
    if (confirmPasswordInput) {
        confirmPasswordInput.addEventListener('input', checkPasswordMatch);
    }

    function checkPasswordStrength() {
        const password = newPasswordInput.value;
        const strengthBar = document.querySelector('.strength-fill');
        const strengthText = document.querySelector('.strength-text');
        
        let strength = 0;
        let strengthLabel = '';
        
        if (password.length >= 8) strength += 25;
        if (/[a-z]/.test(password)) strength += 25;
        if (/[A-Z]/.test(password)) strength += 25;
        if (/[0-9]/.test(password)) strength += 25;
        if (/[^A-Za-z0-9]/.test(password)) strength += 25;
        
        strength = Math.min(strength, 100);
        
        if (strength < 50) {
            strengthLabel = 'Lemah';
            strengthBar.style.background = '#f44336';
        } else if (strength < 75) {
            strengthLabel = 'Sedang';
            strengthBar.style.background = '#ff9800';
        } else {
            strengthLabel = 'Kuat';
            strengthBar.style.background = '#4caf50';
        }
        
        strengthBar.style.width = strength + '%';
        strengthText.textContent = `Kekuatan Password: ${strengthLabel}`;
    }

    function checkPasswordMatch() {
        const password = newPasswordInput.value;
        const confirmPassword = confirmPasswordInput.value;
        const matchDiv = document.getElementById('passwordMatch');
        
        if (confirmPassword) {
            if (password === confirmPassword) {
                matchDiv.textContent = '✓ Password cocok';
                matchDiv.className = 'password-match match';
            } else {
                matchDiv.textContent = '✗ Password tidak cocok';
                matchDiv.className = 'password-match no-match';
            }
        } else {
            matchDiv.textContent = '';
            matchDiv.className = 'password-match';
        }
    }

    // Account form submission
    const accountForm = document.getElementById('accountForm');
    if (accountForm) {
        accountForm.addEventListener('submit', async function(e) {
            e.preventDefault();
            
            const currentPassword = document.getElementById('currentPassword').value;
            const newPassword = document.getElementById('newPassword').value;
            const confirmPassword = document.getElementById('confirmNewPassword').value;
            
            // Validate password change
            if (newPassword && newPassword !== confirmPassword) {
                showNotification('Password baru dan konfirmasi password tidak sama!', 'error');
                return;
            }
            
            if (newPassword && !currentPassword) {
                showNotification('Masukkan password saat ini untuk mengubah password!', 'error');
                return;
            }

            const formData = {
                username: document.getElementById('username').value,
                email: document.getElementById('email').value,
                enable2FA: document.getElementById('enable2FA').checked
            };

            // Add password data if provided
            if (newPassword) {
                formData.currentPassword = currentPassword;
                formData.newPassword = newPassword;
                formData.confirmPassword = confirmPassword;
            }

            await submitAccountData(formData);
        });
    }
}

// API Functions
async function submitFitnessData(data) {
    try {
        const submitBtn = document.querySelector('#fitnessForm .btn-save');
        submitBtn.classList.add('loading');
        submitBtn.textContent = 'Menyimpan...';

        const response = await fetch('http://localhost:5000/users', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
            },
            body: JSON.stringify(data)
        });

        if (response.ok) {
            showNotification('Data fitness berhasil diperbarui!', 'success');
        } else {
            throw new Error('Failed to update fitness data');
        }
    } catch (error) {
        console.error('Error:', error);
        showNotification('Terjadi kesalahan saat menyimpan data fitness.', 'error');
    } finally {
        const submitBtn = document.querySelector('#fitnessForm .btn-save');
        submitBtn.classList.remove('loading');
        submitBtn.innerHTML = '<i class="fas fa-save"></i> Simpan Perubahan';
    }
}

async function submitAccountData(data) {
    try {
        const submitBtn = document.querySelector('#accountForm .btn-save');
        submitBtn.classList.add('loading');
        submitBtn.textContent = 'Menyimpan...';

        const response = await fetch('http://localhost:5000/users/account', {
            method: 'PUT',
            headers: {
                'Content-Type': 'application/json',
            },
            body: JSON.stringify(data)
        });

        if (response.ok) {
            showNotification('Pengaturan akun berhasil diperbarui!', 'success');
            
            // Clear password fields after successful update
            document.getElementById('currentPassword').value = '';
            document.getElementById('newPassword').value = '';
            document.getElementById('confirmNewPassword').value = '';
            document.getElementById('passwordMatch').textContent = '';
        } else {
            throw new Error('Failed to update account data');
        }
    } catch (error) {
        console.error('Error:', error);
        showNotification('Terjadi kesalahan saat menyimpan pengaturan akun.', 'error');
    } finally {
        const submitBtn = document.querySelector('#accountForm .btn-save');
        submitBtn.classList.remove('loading');
        submitBtn.innerHTML = '<i class="fas fa-save"></i> Simpan Perubahan';
    }
}

// Utility Functions
function showNotification(message, type = 'success') {
    // Create notification
    const notification = document.createElement('div');
    notification.className = `notification ${type}`;
    
    const icon = type === 'success' ? 'fa-check-circle' : 'fa-exclamation-circle';
    const bgColor = type === 'success' ? 'rgba(76, 175, 80, 0.9)' : 'rgba(244, 67, 54, 0.9)';
    
    notification.style.cssText = `
        position: fixed;
        top: 20px;
        right: 20px;
        background: ${bgColor};
        backdrop-filter: blur(10px);
        color: white;
        padding: 15px 20px;
        border-radius: 10px;
        border: 1px solid rgba(255, 255, 255, 0.2);
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        display: flex;
        align-items: center;
        gap: 10px;
        transform: translateX(400px);
        transition: all 0.3s ease;
        z-index: 1000;
        font-weight: 600;
        font-family: 'Inter', sans-serif;
    `;
    
    notification.innerHTML = `
        <i class="fas ${icon}" style="font-size: 18px;"></i>
        <span>${message}</span>
    `;
    
    // Add to body
    document.body.appendChild(notification);
    
    // Show notification
    setTimeout(() => {
        notification.style.transform = 'translateX(0)';
    }, 100);
    
    // Remove after 3 seconds
    setTimeout(() => {
        notification.style.transform = 'translateX(400px)';
        setTimeout(() => {
            if (document.body.contains(notification)) {
                document.body.removeChild(notification);
            }
        }, 300);
    }, 3000);
}

function confirmAccountDeletion() {
    const confirmed = confirm('Apakah Anda yakin ingin menghapus akun? Tindakan ini tidak dapat dibatalkan dan semua data Anda akan hilang secara permanen.');
    
    if (confirmed) {
        const doubleConfirm = prompt('Ketik "HAPUS AKUN" untuk mengkonfirmasi penghapusan akun:');
        
        if (doubleConfirm === 'HAPUS AKUN') {
            deleteAccount();
        } else {
            showNotification('Penghapusan akun dibatalkan.', 'error');
        }
    }
}

async function deleteAccount() {
    try {
        const response = await fetch('http://localhost:5000/users/delete', {
            method: 'DELETE',
            headers: {
                'Content-Type': 'application/json',
            }
        });

        if (response.ok) {
            showNotification('Akun berhasil dihapus. Anda akan dialihkan ke halaman utama.', 'success');
            setTimeout(() => {
                window.location.href = '/';
            }, 2000);
        } else {
            throw new Error('Failed to delete account');
        }
    } catch (error) {
        console.error('Error:', error);
        showNotification('Terjadi kesalahan saat menghapus akun.', 'error');
    }
}
    </script>
</body>
</html>